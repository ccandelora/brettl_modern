<%= form_with(model: reservation_week, class: "space-y-6") do |form| %>
  <% if reservation_week.errors.any? %>
    <div id="error_explanation" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md">
      <h3 class="font-medium text-red-800 mb-2"><%= pluralize(reservation_week.errors.count, "error") %> prohibited this reservation week from being saved:</h3>
      <ul class="list-disc list-inside text-sm">
        <% reservation_week.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Week Date -->
  <div>
    <%= form.label :res_date, "Week Start Date (Wednesday)", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.date_field :res_date, 
        class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm" %>
    <p class="mt-2 text-sm text-gray-500">
      Select the Wednesday that starts the reservation week. The week runs Wednesday to Tuesday.
    </p>
  </div>

  <!-- Admin Note -->
  <div>
    <%= form.label :note, "Special Instructions (Admin Only)", class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_area :note, rows: 4, 
        class: "block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm",
        placeholder: "Add any special instructions or notes for this week that members should see when making reservations..." %>
    <p class="mt-2 text-sm text-gray-500">
      This note will be displayed to members when they view or create reservations for this week.
    </p>
  </div>

  <!-- Submit Button -->
  <div class="flex flex-col sm:flex-row gap-3 justify-end">
    <%= link_to "Cancel", reservation_weeks_path, 
        class: "inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500" %>
    <%= form.submit reservation_week.persisted? ? "Update Week" : "Create Week", 
        class: "inline-flex items-center justify-center px-6 py-2 bg-red-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500" %>
  </div>
<% end %>
